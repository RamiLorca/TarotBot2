{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nimport { getTarotReading } from '@/services/ReadingService';\nexport default {\n  name: 'TarotCards',\n  props: {\n    isVisible: {\n      type: Boolean,\n      required: true\n    },\n    incrementProgressBar: {\n      type: Function,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isContracted: false,\n      loading: false\n    };\n  },\n  computed: {\n    ...mapGetters(['allTarotCards', 'selectedCards']),\n    mainDeck() {\n      return this.allTarotCards;\n    },\n    mainDeckLength() {\n      return this.allTarotCards.length;\n    },\n    selectedCardsCount() {\n      return this.$store.state.selectedCardsCount;\n    }\n  },\n  created() {\n    this.$store.dispatch('fetchTarotDeck');\n  },\n  methods: {\n    ...mapActions(['shuffleMainDeck', 'moveToSelectedCards', 'incrementSelectedCardsCount']),\n    shuffleDeck() {\n      this.loading = true;\n      this.isContracted = true;\n      setTimeout(() => {\n        this.shuffleMainDeck();\n        this.isContracted = false;\n        this.loading = false;\n      }, 4000);\n      console.log(this.mainDeck);\n    },\n    moveCardToSelected(card) {\n      if (this.selectedCardsCount < 3) {\n        this.moveToSelectedCards(card);\n        this.incrementSelectedCardsCount();\n      }\n      if (this.selectedCardsCount === 3) {\n        this.sendReadingRequest();\n        // this.incrementProgressBar();\n        // this.$store.commit('hideTarotCards');\n      }\n\n      console.log(this.$store.getters.selectedCards);\n      console.log(this.mainDeck.length);\n    },\n    async sendReadingRequest() {\n      const cardOne = selectedCards[0].name;\n      const cardTwo = selectedCards[1].name;\n      const cardThree = selectedCards[2].name;\n      const message = \"You will act like a master tarot reader and only respond with things a real tarot reader would say. I will list 3 cards that I've pulled from a shuffled deck \" + \"and placed in front of me from left to right. I will also provide you with a query, describing the situation \" + \"or question for which you will provide insight. You will use all available sources to provide clear and direct advice, \" + \"paying special attention to how the card meanings might change based on their relative positions. \" + \"The cards I pulled are as follows: \" + cardOne + \", \" + cardTwo + \", \" + `${cardThree}` + \". \" + \"My query/situation is as follows: \" + `${userQuery}`;\n      try {\n        const response = await getTarotReading(message);\n        this.$refs.UserPrompts.updateReading(response);\n        this.incrementProgressBar();\n        this.$store.commit('hideTarotCards');\n      } catch (error) {\n        console.error('Error while getting the tarot reading:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","getTarotReading","name","props","isVisible","type","Boolean","required","incrementProgressBar","Function","data","isContracted","loading","computed","mainDeck","allTarotCards","mainDeckLength","length","selectedCardsCount","$store","state","created","dispatch","methods","shuffleDeck","setTimeout","shuffleMainDeck","console","log","moveCardToSelected","card","moveToSelectedCards","incrementSelectedCardsCount","sendReadingRequest","getters","selectedCards","cardOne","cardTwo","cardThree","message","userQuery","response","$refs","UserPrompts","updateReading","commit","error"],"sources":["src/components/TarotCards.vue"],"sourcesContent":["<template>\n    <div class=\"main\" >\n\n      <v-btn \n        dark \n        elevated \n        style=\"color: #161623;background-color: #d2cfd2\"\n        :disabled=\"loading\"\n        :loading=\"loading\"\n        class=\"text-none mb-4\"\n        size=\"large\"\n        variant=\"flat\" \n        @click=\"shuffleDeck\"\n      >\n        Shuffle\n      </v-btn>\n\n        <div :class=\"{'contracted': isContracted}\" class=\"card-list-wrapper\">\n          <transition class=\"fade-in\">\n            <section class=\"card-list\" v-if=\"isVisible\">\n              <article class=\"card\" v-for=\"card in mainDeck\" :key=\"card.name\" @click=\"moveCardToSelected(card)\">\n                  <div class=\"card-img\" >\n                      <img src=\"@/assets/Back5.png\" alt=\"back-of-card\">\n                  </div>\n              </article>\n            </section>\n        </transition>\n      </div>\n\n    </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { getTarotReading } from '@/services/ReadingService';\n\nexport default {\n    name: 'TarotCards',\n    props: {\n      isVisible: {\n        type: Boolean,\n        required: true,\n      },\n      incrementProgressBar: {\n        type: Function,\n        required: true,\n      },\n    },\n    data() {\n      return {\n        isContracted: false,\n        loading: false,\n      };\n    },\n    computed: {\n        ...mapGetters(['allTarotCards', 'selectedCards']),\n        mainDeck() {\n            return this.allTarotCards;\n        },\n        mainDeckLength() {\n          return this.allTarotCards.length;\n        },\n        selectedCardsCount() {\n          return this.$store.state.selectedCardsCount;\n        },\n    },\n    created() {\n        this.$store.dispatch('fetchTarotDeck');\n    },\n    methods: {\n      ...mapActions(['shuffleMainDeck', 'moveToSelectedCards', 'incrementSelectedCardsCount']),\n      shuffleDeck() {\n        this.loading = true;\n        this.isContracted = true;\n        setTimeout(() => {\n          this.shuffleMainDeck();\n          this.isContracted = false;\n          this.loading = false;\n        }, 4000);\n        console.log(this.mainDeck);\n      },\n      moveCardToSelected(card) {\n        if (this.selectedCardsCount < 3) {\n          this.moveToSelectedCards(card);\n          this.incrementSelectedCardsCount();\n        }\n\n        if(this.selectedCardsCount === 3) {\n          this.sendReadingRequest();\n          // this.incrementProgressBar();\n          // this.$store.commit('hideTarotCards');\n        }\n\n        console.log(this.$store.getters.selectedCards);\n        console.log(this.mainDeck.length);\n      },\n      async sendReadingRequest() {\n\n        const cardOne = selectedCards[0].name;\n        const cardTwo = selectedCards[1].name;\n        const cardThree = selectedCards[2].name;\n\n        const message = \"You will act like a master tarot reader and only respond with things a real tarot reader would say. I will list 3 cards that I've pulled from a shuffled deck \" +\n                      \"and placed in front of me from left to right. I will also provide you with a query, describing the situation \" +\n                      \"or question for which you will provide insight. You will use all available sources to provide clear and direct advice, \" +\n                      \"paying special attention to how the card meanings might change based on their relative positions. \" +\n                      \n                      \"The cards I pulled are as follows: \" + cardOne + \", \" + cardTwo + \", \" + `${cardThree}` + \". \" +\n\n                      \"My query/situation is as follows: \" + `${userQuery}`;\n\n        try {\n          const response = await getTarotReading(message);\n          this.$refs.UserPrompts.updateReading(response);\n          this.incrementProgressBar();\n          this.$store.commit('hideTarotCards');\n        } catch (error) {\n          console.error('Error while getting the tarot reading:', error);\n        }\n      }\n    },\n};\n</script>\n\n<style>\n\n.main {\n    padding: 0;\n    margin: 0;\n    background-color: #161623;\n    color: white;\n    font-family: 'DM Mono', monospace;\n    max-width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-family: Avenir;\n}\n\na {\n    text-decoration: none;\n}\n\n.buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  gap: 10%;\n}\n\n.card-list {\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding-left: 7%;\n    padding-right: 5%;\n    padding-bottom: 5%;\n    height: 100%;\n    max-width: 90%;\n    margin: auto;\n    box-sizing: border-box;\n}\n\n.card-list::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n}\n\n.card-list-wrapper {\n  max-width: 100%;\n  animation-duration: 4s; \n  animation-timing-function: ease-in-out;\n}\n\n@keyframes accordion-effect {\n  0% {\n    max-width: 100%;\n  }\n  50% {\n    max-width: 20%;\n  }\n  100% {\n    max-width: 100%;\n  }\n}\n.card-list-wrapper.contracted {\n  animation-name: accordion-effect;\n}\n/* .card-list::-webkit-scrollbar-thumb {\n    background: #201c29;\n    border-radius: 10px;\n    box-shadow: inset 2px 2px 2px hsla(0,0%,100%,.25), inset -2px -2px 2px rgba(0,0,0,.25);\n} */\n\n/* .card-list::-webkit-scrollbar-track {\n    background: linear-gradient(90deg,#201c29,#201c29 1px,#17141d 0,#17141d);\n} */\n\n/* #1e1c50 */\n\n\n.card {\n    height: auto;\n    max-width: 140px;\n    padding: 1.5rem;\n    border-radius: 10%;\n    background: #2c2461;\n    box-shadow: -30px 0px 25px -30px rgba(0,0,0,0.63);\n    display: flex;\n    flex-direction: column;;\n    transition: .2s;\n    margin: 40px 0;\n    padding: 0;\n    clear: both;\n    position: relative;\n    overflow: hidden;\n    border: .5px solid #e0dddf;\n}\n\n\n.card-img {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.card-img img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n}\n\n/* .card:focus-within~.card, .card:hover~.card {\n    transform: translateX(130px);\n} */\n\n.card:hover {\n    transform: translateY(3rem) translateX(-1rem);\n    box-shadow: 0 0px 20px 10px rgba(255, 255, 255, 0.168) inset;\n    box-shadow: 0 0px 20px 5px rgba(255, 255, 255, 0.168);\n    cursor: pointer;\n}\n\n.card:not(:first-child) {\n    margin-left: -119px;\n} \n\n\n@media (max-width: 1120px) {\n  .card-list {\n    padding-left: 13%;\n  }\n}\n\n@media (max-width: 800px) {\n  .card-list {\n    padding-left: 21%;\n  }\n}\n\n@media (max-width: 600px) {\n  .card {\n    margin: 20px 5px;\n  }\n}\n\n.fade-in-enter-active, .fade-in-leave-active {\n  transition: opacity 3s;\n}\n\n.fade-in-enter, .fade-in-leave-to /* .fade-in-leave-active in <2.1.8 */ {\n  opacity: 0;\n}\n</style>"],"mappings":"AAiCA,SAAAA,UAAA,EAAAC,UAAA;AACA,SAAAC,eAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,QAAA;IACA;IACAC,oBAAA;MACAH,IAAA,EAAAI,QAAA;MACAF,QAAA;IACA;EACA;EACAG,KAAA;IACA;MACAC,YAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAd,UAAA;IACAe,SAAA;MACA,YAAAC,aAAA;IACA;IACAC,eAAA;MACA,YAAAD,aAAA,CAAAE,MAAA;IACA;IACAC,mBAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAF,kBAAA;IACA;EACA;EACAG,QAAA;IACA,KAAAF,MAAA,CAAAG,QAAA;EACA;EACAC,OAAA;IACA,GAAAvB,UAAA;IACAwB,YAAA;MACA,KAAAZ,OAAA;MACA,KAAAD,YAAA;MACAc,UAAA;QACA,KAAAC,eAAA;QACA,KAAAf,YAAA;QACA,KAAAC,OAAA;MACA;MACAe,OAAA,CAAAC,GAAA,MAAAd,QAAA;IACA;IACAe,mBAAAC,IAAA;MACA,SAAAZ,kBAAA;QACA,KAAAa,mBAAA,CAAAD,IAAA;QACA,KAAAE,2BAAA;MACA;MAEA,SAAAd,kBAAA;QACA,KAAAe,kBAAA;QACA;QACA;MACA;;MAEAN,OAAA,CAAAC,GAAA,MAAAT,MAAA,CAAAe,OAAA,CAAAC,aAAA;MACAR,OAAA,CAAAC,GAAA,MAAAd,QAAA,CAAAG,MAAA;IACA;IACA,MAAAgB,mBAAA;MAEA,MAAAG,OAAA,GAAAD,aAAA,IAAAjC,IAAA;MACA,MAAAmC,OAAA,GAAAF,aAAA,IAAAjC,IAAA;MACA,MAAAoC,SAAA,GAAAH,aAAA,IAAAjC,IAAA;MAEA,MAAAqC,OAAA,sKACA,kHACA,4HACA,uGAEA,wCAAAH,OAAA,UAAAC,OAAA,aAAAC,SAAA,YAEA,0CAAAE,SAAA;MAEA;QACA,MAAAC,QAAA,SAAAxC,eAAA,CAAAsC,OAAA;QACA,KAAAG,KAAA,CAAAC,WAAA,CAAAC,aAAA,CAAAH,QAAA;QACA,KAAAjC,oBAAA;QACA,KAAAW,MAAA,CAAA0B,MAAA;MACA,SAAAC,KAAA;QACAnB,OAAA,CAAAmB,KAAA,2CAAAA,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}